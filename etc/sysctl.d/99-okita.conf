net.core.default_qdisc = fq
net.core.netdev_max_backlog = 100000
net.core.netdev_budget = 50000
net.core.netdev_budget_usecs = 5000
net.core.rmem_default = 1048576
net.core.rmem_max = 16777216
net.core.wmem_default = 1048576
net.core.wmem_max = 16777216
net.core.optmem_max = 65536
net.ipv4.tcp_rmem = 4096 1048576 2097152
net.ipv4.tcp_wmem = 4096 65536 16777216
net.ipv4.udp_rmem_min = 8192
net.ipv4.udp_wmem_min = 8192
net.ipv4.tcp_fastopen = 3
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_slow_start_after_idle = 0
net.ipv4.tcp_syncookies = 1
net.ipv4.tcp_congestion_control = bbr

fs.file-max = 2097152
fs.inotify.max_user_instances = 4096
fs.inotify.max_user_watches = 4096

# I have enough ram you're welcome
vm.swappiness = 1
vm.overcommit_memory = 1
vm.vfs_cache_pressure = 32
vm.dirty_background_ratio = 8
vm.dirty_ratio = 80
vm.min_free_kbytes=188150
